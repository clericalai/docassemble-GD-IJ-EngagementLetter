# See http://docassemble.org/docs/objects.html#tocAnchor-1-30-1
#https://app.gooddocs.io/?i=docassemble.GD-IJ-EngagementLetter%3Adata%2Fquestions%2Fquestions.yml#page1
---
metadata:
  title: Engagement Letter
  short title: Engagement
  description: |
    Law Firm Engagement Letter Contract
  authors:
    - name: Nathan Roach
    - organization: GoodDocs.io
  revision_date: 2017-04-28
  debug: True
---
modules:
  - docassemble.base.util
  - docassemble.base.legal
---
objects:
  - case: Case
  - client: Individual
  - spouse: Individual
  - advocate: Individual
  - attorney: Individual
  - pleading: LegalFiling
  - court: Court
  - role_change: RoleChangeTracker # important
---
mandatory: true
code: |
  case.court = court
  pleading.case = case
---
generic object: Individual
question: |
  What is ${ x.object_possessive('name') }?
fields:
  - First Name: x.name.first
    default: ${ x.first_name_hint() }
  - Middle Name: x.name.middle
    required: False
  - Last Name: x.name.last
    default: ${ x.last_name_hint() }
  - Suffix: x.name.suffix
    required: False
code: |
  name_suffix()
# comment: |
#   If the object does not have a name yet, generic questions can refer
#   to it by the name of the variable itself.  For example, suppose you
#   create an object, case.judge, with the class of Individual.  If the
#   name of case.judge is ever needed, docassemble will use the question
#   above to ask "What is the name of the judge in the case?"
---
code: |
  import time
  EffectiveDate = time.strftime("%m/%d/%Y")
---
role: attorney
question: Please provide the client's initial email.
subquestion: |
   You may resume [the interview](${ interview_url() }) later.
fields:
  - First Name: client.name.first
    default: ${ x.first_name_hint() }
  - Last Name: client.name.last
    default: ${ x.last_name_hint() }
  - Email Address: client.email
---
mandatory: true
role: attorney
question: Thanks for engaging our firm.  We will be in contact regarding next steps.
attachment:
  - name: ${ client.name } Engagement Letter
    filename: ${ client.name }-Engagement-Letter
    content file: TEMPLATE_Engagement Letter_Individual.md
---
